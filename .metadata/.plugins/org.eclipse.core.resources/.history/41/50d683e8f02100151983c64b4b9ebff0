/**
	 
    File name:  mortgageCalculation.java

    Program purpose: This program is to print a customer receipt from an ATM machine

    Revision history:

    Date                Programmer             Change ID               Description

    07/1/2015          Anthony Kawa                  1                 Initial creation



    @version 1.0
    @author  Anthony Kawa

    @since 07-1-2015

*/

import javax.swing.*;

public class mortgageCalculationGui {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		//Declare variable and assign initial value
		String propertyAddress = "";
		double propertyValue = 0.00;
		double annualInterestRate = 0.00;
		int loanDuration = 0;
		double downPaymentPercentage = 0.00;
		double propertyTaxRate = 1.5;
		
		//Begin requesting user input
		String input = new String();
		try {
			input = JOptionPane.showInputDialog("Enter property address: ");
			propertyAddress = input;
			
			input = JOptionPane.showInputDialog("Enter property value: ");
			propertyValue = Double.parseDouble(input);
			
			input = JOptionPane.showInputDialog("Enter annual interest rate(%): ");
			annualInterestRate = Double.parseDouble(input);
			
			input = JOptionPane.showInputDialog("Enter number of loan duration (years): ");
			loanDuration = Integer.parseInt(input);
			
			input = JOptionPane.showInputDialog("Enter down payment in percentage(%): ");
			downPaymentPercentage = Double.parseDouble(input);

		} catch (Exception e) {
			e.printStackTrace();
			System.exit(0);
		}
		
		// Performing calculations
		double loanAmount = propertyValue * (1-downPaymentPercentage/100);
		double downPayment = propertyValue - loanAmount;
		double monthlyInterestRate = annualInterestRate/100/12;
		double mortgageMonthlyPayment = loanAmount*monthlyInterestRate/(1-1/Math.pow(1+monthlyInterestRate,loanDuration*12));
		double propertyTaxMonthlyPayment = propertyValue*propertyTaxRate/100/12;
		double monthlyPayment = mortgageMonthlyPayment+propertyTaxMonthlyPayment;
		double totalPayment = mortgageMonthlyPayment*12*loanDuration;
		
		//Print out receipt in console
		JOptionPane.showMessageDialog(null,"Mortgage calculator is processing your data ...  Please wait …\n"
				+ "     **********************************************\n"
				+ "         MORTGAGE CALCULATOR RESULTS\n"
				+ "     **********************************************\n"
				+ "Property address: " + propertyAddress + "\n"
				+ String.format("Property value: $ %.2f", propertyValue) + "\n"
				+ "Down payment: $ " + downPayment + "\n"
				+ "Loan amount: $ " + loanAmount + "\n"
				+ "Mortgage monthly payment: $ " + mortgageMonthlyPayment + "\n"
				+ "Monthly payment(property tax included): $ " + monthlyPayment + "\n"
				+ "Total payment: $ " + totalPayment);
	}

}
